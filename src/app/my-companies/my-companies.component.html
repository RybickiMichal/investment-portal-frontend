<h1>My Companies</h1>

<div class="alert alert-success" *ngIf='message'>{{message}}</div>
<BR>
<form>
  <input name="stock" [(ngModel)]="stock" class="form-control" type="text" placeholder="Write Company Symbol here, which would you like to add" />  
  <button (click)="addCompany(stock)" class="btn btn-success">Add</button>
</form>
<BR>
<div class="container">
  <table class="table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Symbol</th>
        <th>Price</th>
        <th>Dividend</th>
        <th>Change</th>
        <th>Change In %</th>
        <th>Delete Company</th>
        <th>Charts</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let company of companies">
        <td (click)="goToCharts(company.symbol)" [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}">{{company.name}}</td>
        <td (click)="goToCharts(company.symbol)" [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}">{{company.symbol}}</td>
        <td (click)="goToCharts(company.symbol)" [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}">{{company.price | currency: 'USD'}}</td>
        <td (click)="goToCharts(company.symbol)" [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}">{{company.annualYieldDividend | currency: 'USD'}}</td>
        <td (click)="goToCharts(company.symbol)" [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}">{{company.change | currency: 'USD'}}</td>
        <td (click)="goToCharts(company.symbol)" [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}">{{company.changeInPercent}}%</td>
        <td [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}"><button (click)="deleteCompany(company.symbol)" class="btn btn-secondary">Delete Company</button></td>
        <td [ngClass]="{increase: isPositive(company.change), decrease: isNegative(company.change)}"><button (click)="goToCharts(company.symbol)" class="btn btn-secondary">Charts</button></td>
      </tr>
    </tbody>
  </table>

  <BR>
  <BR>
</div>
